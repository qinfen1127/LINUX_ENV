#!/bin/csh -f
#---------------------------------------------------------------
#author   : Howard
#data     : 2020/3/1
#function : run design tool
#---------------------------------------------------------------

#---------------------------------------------------------------
# script function help
#---------------------------------------------------------------
if(($1  ==  "help")|($1  ==  ""))then
    echo  "-------------------------------------------------- "
    echo  "      command               function              |"
	echo  "./genfile  cmsdk     --> create cmsdk.v file      |"
    echo  "-------------------------------------------------- "
	exit 1
endif

#---------------------------------------------------------------
# set content 
#---------------------------------------------------------------

foreach i ($argv)
#---------------------------------------------------------------
# set file name
#---------------------------------------------------------------
	set file = "$i.v"

#---------------------------------------------------------------
# delete old file and touch new file
#---------------------------------------------------------------
	if(-e $file) then
		rm $file
	endif
	touch $file

#---------------------------------------------------------------
# write content
#---------------------------------------------------------------
	cat template.v >> $file

#---------------------------------------------------------------
# get current date
#---------------------------------------------------------------
	set  cur_date = `date +%Y-%m-%d`

#---------------------------------------------------------------
# replace name data author
#---------------------------------------------------------------
	./rep_fix_prl $file u_author $my_name u_name $i u_date $cur_date

end

