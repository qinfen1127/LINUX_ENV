#-----------------------------------------------------------------------
#step0 : set env M0_PATH
#-----------------------------------------------------------------------
set M0_PATH $env(M0_PATH)

#-----------------------------------------------------------------------
#step1 : set top file
#-----------------------------------------------------------------------
set  top_file  cmsdk_mcu

#-----------------------------------------------------------------------
#step2 : create new project
#-----------------------------------------------------------------------
gui_start
new_project m0 -force

#-----------------------------------------------------------------------
#step3 : read rtl  set include path
#-----------------------------------------------------------------------
read_file   -type sourcelist ../../rtl/flist.f

#-----------------------------------------------------------------------
#step4 : set include path and top file
#-----------------------------------------------------------------------
set_option  incdir     ../../rtl/include
set_option  top        $top_file

#-----------------------------------------------------------------------
#step5 : other configure
#-----------------------------------------------------------------------
#set_parameter handle_large_bus yes
#set_option  mthresh                       524288
#set_option  hdlin_synthesis_off_skip_text yes

#-----------------------------------------------------------------------
#step6 : lint check
#-----------------------------------------------------------------------
current_goal  lint/lint_rtl  -top  $top_file
run_goal

#current_goal  lint/lint_turbo_rtl  -top  $top_file
#run_goal

#-----------------------------------------------------------------------
#step7 : lint check
#-----------------------------------------------------------------------
save_project

